
# Check C types
include(CheckTypeSize)
check_type_size(int         SIZEOF_INT)
check_type_size(long        SIZEOF_LONG)
check_type_size("long long" SIZEOF_LONG_LONG)
check_type_size(off64_t     SIZEOF_OFF64_T)
check_type_size(off_t       SIZEOF_OFF_T)
check_type_size(size_t      SIZEOF_SIZE_T)
check_type_size(ssize_t     SIZEOF_SSIZE_T)
check_type_size(time_t      SIZEOF_TIME_T)
#check_type_size(XML_Size    SIZEOF_XML_SIZE)
#check_type_size(socklen_t   HAVE_SOCKLEN_T)
#CHECK_TYPE_SIZE(socklen_t   SOCKLEN_T)

include(CheckIncludeFiles)
check_include_files("arpa/inet.h" HAVE_ARPA_INET_H)
check_include_files("dlfcn.h" HAVE_DLFCN_H)
check_include_files("fcntl.h" HAVE_FCNTL_H)
check_include_files("inttypes.h" HAVE_INTTYPES_H)
check_include_files("libintl.h" HAVE_LIBINTL_H)
check_include_files("limits.h" HAVE_LIMITS_H)
check_include_files("locale.h" HAVE_LOCALE_H)
check_include_files("memory.h" HAVE_MEMORY_H)
check_include_files("netdb.h" HAVE_NETDB_H)
check_include_files("netinet/in.h" HAVE_NETINET_IN_H)
check_include_files("netinet/tcp.h" HAVE_NETINET_TCP_H)
check_include_files("signal.h" HAVE_SIGNAL_H)
check_include_files("stdarg.h" HAVE_STDARG_H)
check_include_files("stdint.h" HAVE_STDINT_H)
check_include_files("stdlib.h" HAVE_STDLIB_H)
check_include_files("strings.h" HAVE_STRINGS_H)
check_include_files("string.h" HAVE_STRING_H)
check_include_files("sys/limits.h" HAVE_SYS_LIMITS_H)
check_include_files("sys/poll.h" HAVE_SYS_POLL_H)
check_include_files("sys/select.h" HAVE_SYS_SELECT_H)
check_include_files("sys/socket.h" HAVE_SYS_SOCKET_H)
check_include_files("sys/stat.h" HAVE_SYS_STAT_H)
check_include_files("sys/time.h" HAVE_SYS_TIME_H)
check_include_files("sys/types.h" HAVE_SYS_TYPES_H)
check_include_files("trio.h" HAVE_TRIO_H)
check_include_files("unistd.h" HAVE_UNISTD_H)

include(CheckFunctionExists)
check_function_exists(stpcpy HAVE_DECL_STPCPY)
check_function_exists(strerror_r HAVE_DECL_STRERROR_R)
check_function_exists(fcntl HAVE_FCNTL)
check_function_exists(fstat64 HAVE_FSTAT64)
check_function_exists(gai_strerror HAVE_GAI_STRERROR)
check_function_exists(gethostname HAVE_GETHOSTNAME)
check_function_exists(getnameinfo HAVE_GETNAMEINFO)
check_function_exists(getsockopt HAVE_GETSOCKOPT)
check_function_exists(inet_ntop HAVE_INET_NTOP)
check_function_exists(inet_pton HAVE_INET_PTON)
check_function_exists(isatty HAVE_ISATTY)
check_function_exists(lseek64 HAVE_LSEEK64)
check_function_exists(pipe HAVE_PIPE)
check_function_exists(poll HAVE_POLL)
check_function_exists(pthread_mutex_init HAVE_PTHREAD_MUTEX_INIT)
check_function_exists(pthread_mutex_lock HAVE_PTHREAD_MUTEX_LOCK)
check_function_exists(setlocale HAVE_SETLOCALE)
check_function_exists(setvbuf HAVE_SETVBUF)
check_function_exists(shutdown HAVE_SHUTDOWN)
check_function_exists(signal HAVE_SIGNAL)
check_function_exists(snprintf HAVE_SNPRINTF)
check_function_exists(stpcpy HAVE_STPCPY)
check_function_exists(strcasecmp HAVE_STRCASECMP)
check_function_exists(strerror_r HAVE_STRERROR_R)
check_function_exists(strtoll HAVE_STRTOLL)
check_function_exists(strtoq HAVE_STRTOQ)
check_function_exists(usleep HAVE_USLEEP)
check_function_exists(vsnprintf HAVE_VSNPRINTF)


configure_file(config.h.in config.h)

